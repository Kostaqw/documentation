<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>set</title>
    <link href="../lib/bootstrap.min.css" rel="stylesheet">
    <link href="../css/styles.css" rel="stylesheet">
    <script src="../js/jquery-3.5.1.min.js"></script>
    <script src="../js/popper.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/scripts.js"></script>
</head>

<body>
    <div class="container">
        <div class="container mt-5">
            <h2>Set()</h2>
            <p>Установка нормальной, кэшированной или переменной окружения на заданное значение.</p>
            <p>См. документацию по переменным в <code>cmake-language(7)</code> для понимания областей видимости и взаимодействия нормальных переменных и кэш-записей.</p>
            
            <h3>Установка нормальной переменной</h3>
            <pre><code>set(&lt;variable&gt; &lt;value&gt;... [PARENT_SCOPE])</code></pre>
            <p>Устанавливает или сбрасывает переменную в текущей функции или области каталога:</p>
            <ul>
                <li>Если указано хотя бы одно значение <code>&lt;value&gt;...</code>, устанавливает переменную на это значение.</li>
                <li>Если значение не указано, сбрасывает переменную. Это эквивалентно <code>unset(&lt;variable&gt;)</code>.</li>
                <li>Если указана опция <code>PARENT_SCOPE</code>, переменная будет установлена в родительской области. Каждая новая директория или команда <code>function()</code> создает новую область. Область также может быть создана с помощью команды <code>block()</code>. Команда <code>set(PARENT_SCOPE)</code> устанавливает значение переменной в родительской директории, вызывающей функции или охватывающей области (в зависимости от конкретного случая). Предыдущее состояние значения переменной остается прежним в текущей области (например, если оно было неопределенным ранее, оно остается неопределенным, и если у него было значение, оно все еще имеет это значение).</li>
            </ul>
            <p>Команды <code>block(PROPAGATE)</code> и <code>return(PROPAGATE)</code> могут быть использованы как альтернативный метод командам <code>set(PARENT_SCOPE)</code> и <code>unset(PARENT_SCOPE)</code> для обновления родительской области.</p>
            <p><strong>Примечание:</strong> При оценке ссылок на переменные формы <code>${VAR}</code> CMake сначала ищет нормальную переменную с таким именем. Если такой нормальной переменной не существует, CMake затем ищет кэш-запись с таким именем. Из-за этого сброс нормальной переменной может раскрыть кэш-переменную, которая ранее была скрыта. Чтобы заставить ссылку на переменную формы <code>${VAR}</code> вернуть пустую строку, используйте <code>set(&lt;variable&gt; "")</code>, что очищает нормальную переменную, но оставляет ее определенной.</p>
    
            <h3>Установка кэш-записи</h3>
            <pre><code>set(&lt;variable&gt; &lt;value&gt;... CACHE &lt;type&gt; &lt;docstring&gt; [FORCE])</code></pre>
            <p>Устанавливает указанную кэш-запись <code>&lt;variable&gt;</code>. Поскольку кэш-записи предназначены для предоставления значений, установленных пользователем, это не перезаписывает существующие кэш-записи по умолчанию. Используйте опцию <code>FORCE</code>, чтобы перезаписать существующие записи.</p>
            <p>Тип <code>&lt;type&gt;</code> должен быть указан как один из:</p>
            <ul>
                <li><code>BOOL</code> — логическое значение ВКЛ/ВЫКЛ. <code>cmake-gui(1)</code> предлагает флажок.</li>
                <li><code>FILEPATH</code> — путь к файлу на диске. <code>cmake-gui(1)</code> предлагает диалог выбора файла.</li>
                <li><code>PATH</code> — путь к директории на диске. <code>cmake-gui(1)</code> предлагает диалог выбора файла.</li>
                <li><code>STRING</code> — строка текста. <code>cmake-gui(1)</code> предлагает текстовое поле или выпадающий список, если свойство кэша <code>STRINGS</code> установлено.</li>
                <li><code>INTERNAL</code> — строка текста. <code>cmake-gui(1)</code> не показывает внутренние записи. Они могут использоваться для хранения переменных между запусками. Использование этого типа подразумевает <code>FORCE</code>.</li>
            </ul>
            <p>Строка документации <code>&lt;docstring&gt;</code> должна быть указана как строка текста, предоставляющая краткое описание опции для пользователей <code>cmake-gui(1)</code>.</p>
            <p>Если кэш-запись не существует до вызова или указана опция <code>FORCE</code>, то кэш-запись будет установлена на заданное значение.</p>
            <p><strong>Примечание:</strong> Содержимое кэш-переменной не будет напрямую доступно, если нормальная переменная с тем же именем уже существует (см. правила оценки переменных). Если политика <code>CMP0126</code> установлена на OLD, любая привязка нормальной переменной в текущей области будет удалена.</p>
            <p>Возможно, что кэш-запись существует до вызова, но тип не установлен, если она была создана на командной строке <code>cmake(1)</code> пользователем через опцию <code>-D&lt;var&gt;=&lt;value&gt;</code> без указания типа. В этом случае команда <code>set</code> добавит тип. Более того, если <code>&lt;type&gt;</code> это <code>PATH</code> или <code>FILEPATH</code> и предоставленное значение на командной строке является относительным путем, то команда <code>set</code> будет рассматривать путь как относительный к текущей рабочей директории и преобразует его в абсолютный путь.</p>
    
            <h3>Установка переменной окружения</h3>
            <pre><code>set(ENV{&lt;variable&gt;} [&lt;value&gt;])</code></pre>
            <p>Устанавливает переменную окружения на заданное значение. Последующие вызовы <code>$ENV{&lt;variable&gt;}</code> будут возвращать это новое значение.</p>
            <p>Эта команда влияет только на текущий процесс CMake, а не на процесс, из которого был вызван CMake, и не на системное окружение в целом, и не на окружение последующих процессов сборки или тестирования.</p>
            <p>Если аргумент не указан после <code>ENV{&lt;variable&gt;}</code> или <code>&lt;value&gt;</code> является пустой строкой, то эта команда очистит любое существующее значение переменной окружения.</p>
            <p>Аргументы после <code>&lt;value&gt;</code> игнорируются. Если найдены дополнительные аргументы, будет выдано предупреждение для автора.</p>
        </div>
    </div>
</body>

</html>
